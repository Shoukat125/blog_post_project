{% extends "base.html" %}
{% block content %}
  <h1>Your Posts</h1>
  <p><a class="btn" href="{{ url_for('add_post') }}">Create New Post</a></p>

  {% if posts %}
    <ul class="user-posts">
      {% for post in posts %}
        <li>
          <div>
            <strong>{{ post.title }}</strong>
            <div class="meta small">Created: {{ post.created_at.strftime('%b %d, %Y') }}</div>
          </div>
          <div class="item-actions">
            <a href="{{ url_for('post_detail', post_id=post.id) }}">View</a> |
            <a href="{{ url_for('edit_post', post_id=post.id) }}">Edit</a> |
            <form method="post" action="{{ url_for('delete_post', post_id=post.id) }}" style="display:inline;">
              <button class="link-button" type="submit" onclick="return confirm('Delete this post?')">Delete</button>
            </form>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>You have not created any posts yet.</p>
  {% endif %}
{% endblock %}
